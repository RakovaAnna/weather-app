{"version":3,"sources":["App.module.css","components/WeatherCard/WeatherCard.module.css","components/MiniDayCard/MiniDayCard.module.css","components/DetailedCard/DetailedCard.module.css","redux/actionType.js","redux/actionsCreators.js","components/ChooseCityForm/ChooseCityForm.js","utils/getDaysInfo.js","components/DetailedCard/DetailedCard.js","components/MiniDayCard/MiniDayCard.js","components/WeatherCard/WeatherCard.js","App.js","serviceWorker.js","utils/autoLayoutKeyboard.js","utils/local.js","api.js","redux/sagas/nextDaysSaga.js","redux/reducer.js","redux/sagas/nowInfoSaga.js","redux/sagas/allWeatherSaga.js","redux/store.js","index.js"],"names":["module","exports","actionType","setCity","city","type","payload","setNowInfo","nowInfo","setNextDays","nextDays","setMessage","message","ChooseCityForm","state","onCityChange","e","setState","target","value","onSubmit","preventDefault","props","onSetCity","this","className","name","placeholder","onChange","Component","ChooseCity","connect","dispatch","weekdayName","ms","Date","toLocaleString","weekday","monthDay","toLocaleDateString","day","month","iconWeather","icon","DetailedCard","baseData","main","dt","dayInfo","imgURL","weather","time","toLocaleTimeString","hour","minute","style","weatherBase","temperature","Math","round","temp","detailsWeather","feels_like","src","width","height","alt","description","tableWeather","trWeather","thTitle","thDetail","temp_max","temp_min","humidity","pressure","wind","speed","React","MiniDayCard","func","dayWeather","WeatherCard","controlTab","formatCards","map","index","key","onToday","onFetchDataNow","onNextDays","onFetchDataNextDays","isToday","toolbar","onClick","titleCard","error","WeatherCardComp","fetchDataNow","fetchDataNextDays","App","titleMain","container","Boolean","window","location","hostname","match","replacerRu","ruLayoutKeyboard","str","replace","x","toLowerCase","toUpperCase","API_KEY","process","mesCityNotFound","api","fetch","then","data","json","fetchWeatherNextDaysAsync","watchFetchNextDaysWeather","newState","cod","list","filter","reading","dt_txt","includes","currentDate","getDate","getMonth","getFullYear","daysInfo","call","put","cityRu","dataRu","takeEvery","fetchNowWeatherAsync","watchFetchNowWeather","now","getTimezoneOffset","timezone","info","infoRu","allWeather","all","initialState","undefined","weatherNextDays","sagaMiddleware","createSagaMiddleware","store","createStore","action","composeWithDevTools","applyMiddleware","run","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.68a29948.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"App_main__3ZkGI\",\"card-weather\":\"App_card-weather__3b0A5\",\"container\":\"App_container__1MQN3\",\"titleMain\":\"App_titleMain__TluTt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container-fluid\":\"WeatherCard_container-fluid__2ruvN\",\"error\":\"WeatherCard_error__12P1I\",\"toolbar\":\"WeatherCard_toolbar__17gIY\",\"titleCard\":\"WeatherCard_titleCard__1OjCd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dayWeather\":\"MiniDayCard_dayWeather__3Y_XV\",\"cardText\":\"MiniDayCard_cardText__1ZCs1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DetailedCard\":\"DetailedCard_DetailedCard__PCcbz\",\"baseData\":\"DetailedCard_baseData__1KvHO\",\"detailsWeather\":\"DetailedCard_detailsWeather__2ekv_\",\"row\":\"DetailedCard_row__1-6rc\",\"temperature\":\"DetailedCard_temperature__2eNga\",\"tableWeather\":\"DetailedCard_tableWeather__2T__R\",\"trWeather\":\"DetailedCard_trWeather__B7IXX\",\"weatherBase\":\"DetailedCard_weatherBase__3dlcX\",\"thTitle\":\"DetailedCard_thTitle__39CQr\",\"thDetail\":\"DetailedCard_thDetail__2Ydq2\"};","export const actionType = {\n    SET_CITY: \"SET_CITY\",\n    SET_NOW_INFO: \"SET_NOW_INFO\",\n    SET_NEXT_DAYS: \"SET_NEXT_DAYS\",\n    SET_MESSAGE: \"SET_MESSAGE\",\n    FETCH_DATA_NOW: \"FETCH_DATA_NOW\",\n    FETCH_DATA_NEXT_DAYS: \"FETCH_DATA_NEXT_DAYS\"\n}","import {actionType} from \"./actionType\";\n\nexport const setCity = (city) => {\n    return {\n        type: actionType.SET_CITY,\n        payload: {\n            city,\n        }\n    };\n};\n\nexport const setNowInfo = (nowInfo) => {\n    return {\n        type: actionType.SET_NOW_INFO,\n        payload: {\n            nowInfo,\n        }\n    };\n}\n\nexport const setNextDays = (nextDays) => {\n    return {\n        type: actionType.SET_NEXT_DAYS,\n        payload: {\n            nextDays,\n        }\n    };\n}\n\nexport const setMessage = (message) => {\n    return {\n        type: actionType.SET_MESSAGE,\n        payload: {\n            message\n        }\n    }\n}\n\nexport const fetchDataNow = (city) => {\n    return {\n        type: actionType.FETCH_DATA_NOW,\n        payload: {\n            city\n        }\n    }\n}\n\nexport const fetchDataNextDays = (city) => {\n    return {\n        type: actionType.FETCH_DATA_NEXT_DAYS,\n        payload: {\n            city\n        }\n    }\n}","import React, {Component} from \"react\";\nimport s from './ChooseCityForm.module.css';\nimport {fetchData, setCity} from \"../../redux/actionsCreators\";\nimport {connect} from \"react-redux\";\n\nclass ChooseCityForm extends Component {\n\n    state = {\n        city: '',\n    }\n\n    onCityChange = (e) => {\n        this.setState({\n            city: e.target.value,\n        });\n    }\n\n    onSubmit = (e) => {\n        e.preventDefault();\n        this.props.onSetCity(this.state.city);\n        this.setState({\n            city: \"\",\n        });\n    }\n\n    render() {\n        const {city} = this.state;\n        return (\n            <div className=\"row\">\n                <div className=\"col col-sm-12\">\n                    <form onSubmit={this.onSubmit}>\n                        <div className=\"input-group input-group-lg\">\n                            <input type=\"text\" name=\"city\" className=\"form-control\" placeholder=\"Выбор города\"\n                                   value={city} onChange={this.onCityChange}/>\n                            <div className=\"input-group-append\">\n                                <button className=\"btn btn-secondary\">Узнать погоду</button>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        ...state,\n        city: state.city\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        onSetCity: (city) => dispatch(setCity(city)),\n    }\n}\n\nexport const ChooseCity = connect(mapStateToProps, mapDispatchToProps)(ChooseCityForm);\n","export function weekdayName(ms) {\n    return new Date(ms).toLocaleString('ru', {weekday: 'long'});\n}\n\nexport function monthDay(ms) {\n    return new Date(ms).toLocaleDateString(\"ru\", {day: 'numeric', month: 'long'});\n}\n\nexport function iconWeather(icon) {\n    return \"http://openweathermap.org/img/wn/\" + icon + \"@4x.png\";\n}\n\nexport function today() {\n    const currentDate = new Date();\n    const day = currentDate.getDate();\n    const month = currentDate.getMonth()+1;\n    const year = currentDate.getFullYear();\n\n    return year + '-' + (month < 10 ? '0' : '') + month + '-' + (day < 10 ? '0' : '') + day;\n}\n","import React from \"react\";\nimport style from './DetailedCard.module.css';\n\nimport * as dayInfo from '../../utils/getDaysInfo';\n\nclass DetailedCard extends React.Component {\n    render() {\n        const {day} = this.props;\n        if (day) {\n            const {main: baseData} = day;\n            const ms = day.dt * 1000;\n            const weekdayName = dayInfo.weekdayName(ms);\n            const monthDay = dayInfo.monthDay(ms);\n            const imgURL = dayInfo.iconWeather(day.weather[0].icon);\n            const time = new Date(this.props.time).toLocaleTimeString(\"ru\", {hour: 'numeric', minute: 'numeric'});\n            return (\n                <div className={style.DetailedCard}>\n                    <p className={style.baseData}>{weekdayName}, {monthDay} {time}</p>\n                    <div className={`row align-items-center ${style.weatherBase}`}>\n                        <div className=\"col-sm-6 align-self-center\">\n                            <p className={style.temperature}>{Math.round(baseData.temp)}°</p>\n                            <p className={style.detailsWeather}>По ощущениям: {Math.round(baseData.feels_like)} °C</p>\n                        </div>\n                        <div className=\"col-sm-6 align-self-center\">\n                            <img src={imgURL} width=\"200\" height=\"200\" alt={day.weather[0].description}/>\n                            <p className={style.detailsWeather}>{day.weather[0].description}</p>\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-sm-12 align-self-center\">\n                            <table className={style.tableWeather}>\n                                <tbody>\n                                <tr className={style.trWeather}>\n                                    <td><p className={style.thTitle}>Макс/мин температура</p></td>\n                                    <td><p className={style.thDetail}>{Math.round(baseData.temp_max)}° / {Math.round(baseData.temp_min)}°</p></td>\n                                    <td><p className={style.thTitle}>Влажность</p></td>\n                                    <td><p className={style.thDetail}>{baseData.humidity}%</p></td>\n                                </tr>\n                                <tr className={style.trWeather}>\n                                    <td><p className={style.thTitle}>Атмосферное давление</p></td>\n                                    <td><p className={style.thDetail}>{Math.round(baseData.pressure/1.333)} мм.рт.ст.</p></td>\n                                    <td><p className={style.thTitle}>Скорость ветра</p></td>\n                                    <td><p className={style.thDetail}>{day.wind.speed}м/с</p></td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            )\n        } else {\n            return (\n                <div className={style.DetailedCard}>\n                    <p className={style.baseData}>Сегодня</p>\n                </div>\n            );\n        }\n\n    }\n}\n\nexport default DetailedCard;","import React from \"react\";\nimport * as func from '../../utils/getDaysInfo';\nimport style from './MiniDayCard.module.css';\n\nclass MiniDayCard extends React.Component {\n    render() {\n        const {day} = this.props;\n        const ms = day.dt * 1000;\n        const weekdayName = func.weekdayName(ms);\n        const monthDay = func.monthDay(ms);\n        const imgURL = func.iconWeather(day.weather[0].icon);\n\n        return (\n            <div className=\"col-sm\">\n                <div className={style.dayWeather}>\n                    <h4>{weekdayName},</h4>\n                    <h5>{monthDay}</h5>\n                    <img src={imgURL} width=\"150\" height=\"150\"  alt={day.weather[0].description}/>\n                    <h2>{Math.round(day.main.temp)} °C</h2>\n                    <div>\n                        <p className=\"card-text\">{day.weather[0].description}</p>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default MiniDayCard;","import React from \"react\";\nimport style from './WeatherCard.module.css';\nimport DetailedCard from \"../DetailedCard/DetailedCard\";\nimport MiniDayCard from \"../MiniDayCard/MiniDayCard\";\nimport {fetchDataNextDays, fetchDataNow} from \"../../redux/actionsCreators\";\nimport {connect} from \"react-redux\";\n\nclass WeatherCard extends React.Component {\n\n    state = {\n        controlTab: true,\n    }\n\n    componentDidMount() {\n        const {city, onFetchDataNow} = this.props;\n        onFetchDataNow(city);\n    }\n\n    formatCards = () => {\n        return this.props.nextDays.map((day, index) => <MiniDayCard day={day} key={index}/>)\n    }\n\n    onToday = () => {\n        if (!this.state.controlTab) {\n            this.setState({\n                controlTab: true,\n            });\n        }\n        if (!this.props.nowInfo.time) {\n            this.props.onFetchDataNow(this.props.city);\n        }\n    }\n\n    onNextDays = () => {\n        if (this.state.controlTab) {\n            this.setState({\n                controlTab: false,\n            });\n        }\n        if (!this.props.nextDays) {\n            this.props.onFetchDataNextDays(this.props.city);\n        }\n    }\n\n    render() {\n        const {city, nowInfo, nextDays, message} = this.props;\n        const isToday = this.state.controlTab;\n        return (\n            <div>\n                <div>\n                    <div className={`row align-items-center ${style.toolbar}`}>\n                        <div className=\"col-sm-6\">\n                            <button className={`${isToday ? 'btn btn-secondary' : 'btn btn-outline-secondary'}`} onClick={this.onToday}>На сегодня\n                            </button>\n                        </div>\n                        <div className=\"col-sm-6\">\n                            <button className={`${!isToday ? 'btn btn-secondary' : 'btn btn-outline-secondary'}`} onClick={this.onNextDays}>На несколько дней\n                            </button>\n                        </div>\n                    </div>\n                    <h2 className={style.titleCard}>Погода в городе \"{city}\"</h2>\n                    <p className={style.error}>{message}</p>\n\n                    <div>\n                        {(this.state.controlTab && nowInfo) &&\n                        <DetailedCard day={nowInfo.weather} city={city} time={nowInfo.time}/>\n                        }\n                        {(!this.state.controlTab && nextDays) &&\n                        <div className=\"row justify-content-center \">\n                            <div className=\"col-sm-8\">\n                                <div className=\"row align-items-center\">\n                                    {this.formatCards()}\n                                </div>\n                            </div>\n                        </div>\n                        }\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        ...state,\n        nowInfo: {\n            time: state.nowInfo.time,\n            weather: state.nowInfo.weather\n        },\n        nextDays: state.nextDays,\n        message: state.message\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        onFetchDataNow: (city) => dispatch(fetchDataNow(city)),\n        onFetchDataNextDays: (city) => dispatch(fetchDataNextDays(city)),\n    }\n}\n\nexport const WeatherCardComp = connect(mapStateToProps, mapDispatchToProps)(WeatherCard);","import React from 'react';\nimport style from './App.module.css';\nimport {ChooseCity} from \"./components/ChooseCityForm/ChooseCityForm\";\nimport {WeatherCardComp} from \"./components/WeatherCard/WeatherCard\";\n\nexport class App extends React.Component {\n\n    render() {\n        const {props} = this;\n        return (\n            <div className={`${style.main}`}>\n                <h1 className={style.titleMain}>Прогноз погоды</h1>\n                <div className={`${style.container} container-fluid`}>\n                    <ChooseCity/>\n                    <WeatherCardComp/>\n                </div>\n            </div>\n        );\n    }\n}\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const replacerRu = {\n    \"q\": \"й\", \"w\": \"ц\", \"e\": \"у\", \"r\": \"к\", \"t\": \"е\", \"y\": \"н\", \"u\": \"г\",\n    \"i\": \"ш\", \"o\": \"щ\", \"p\": \"з\", \"[\": \"х\", \"]\": \"ъ\", \"a\": \"ф\", \"s\": \"ы\",\n    \"d\": \"в\", \"f\": \"а\", \"g\": \"п\", \"h\": \"р\", \"j\": \"о\", \"k\": \"л\", \"l\": \"д\",\n    \";\": \"ж\", \"'\": \"э\", \"z\": \"я\", \"x\": \"ч\", \"c\": \"с\", \"v\": \"м\", \"b\": \"и\",\n    \"n\": \"т\", \"m\": \"ь\", \",\": \"б\", \".\": \"ю\", \"/\": \".\"\n};\n\nconst replacerEn = {\n    \"й\":\"q\", \"ц\":\"w\", \"у\":\"e\", \"к\":\"r\", \"е\":\"t\", \"н\":\"y\", \"г\":\"u\",\n    \"ш\":\"i\", \"щ\":\"o\", \"з\":\"p\", \"х\":\"[\", \"ъ\":\"]\", \"ф\":\"a\", \"ы\":\"s\",\n    \"в\":\"d\", \"а\":\"f\", \"п\":\"g\", \"р\":\"h\", \"о\":\"j\", \"л\":\"k\", \"д\":\"l\",\n    \"ж\":\";\", \"э\":\"'\", \"я\":\"z\", \"ч\":\"x\", \"с\":\"c\", \"м\":\"v\", \"и\":\"b\",\n    \"т\":\"n\", \"ь\":\"m\", \"б\":\",\", \"ю\":\".\", \".\": \"/\"\n};\n\nexport function ruLayoutKeyboard(str) {\n    return str.replace(/[A-z/,.;\\'\\]\\[]/g, function (x) {\n        return x == x.toLowerCase() ? replacerRu[x] : replacerRu[x.toLowerCase()].toUpperCase();\n    });\n}\n\nexport function enLayoutKeyboard(str) {\n    return str.replace(/[А-я/,.;\\'\\]\\[]/g, function (x) {\n        return x == x.toLowerCase() ? replacerEn[x] : replacerEn[x.toLowerCase()].toUpperCase();\n    });\n}\n","export const API_KEY = process.env.REACT_APP_WEATHER_API_KEY;\nexport const units = \"metric\";\nexport const lang = \"ru\";\n\nexport function mesCityNotFound(city) {\n    return `Город \"${city}\" не найден`\n}","import {API_KEY, lang, units} from \"./utils/local\";\n\nexport const api = {\n    loadNextDaysWeather: (city) => {\n        return fetch(`http://api.openweathermap.org/data/2.5/forecast?q=${city}&appid=${API_KEY}&units=${units}&lang=${lang}`)\n            .then((data) => data.json())\n    },\n\n    loadNowWeather: (city) => {\n        return fetch(`http://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${API_KEY}&units=${units}&lang=${lang}`)\n            .then((data) => data.json())\n    }\n}","import React from \"react\";\nimport {ruLayoutKeyboard, enLayoutKeyboard} from \"../../utils/autoLayoutKeyboard\";\nimport {call, put, takeEvery} from \"redux-saga/effects\";\nimport {setCity, setMessage, setNextDays} from \"../actionsCreators\";\nimport * as daysInfo from \"../../utils/getDaysInfo\";\nimport {api} from '../../api';\nimport {mesCityNotFound} from \"../../utils/local\";\nimport {actionType} from \"../actionType\";\n\nconst newState = (data) => {\n    if (data.cod === '200') {\n        return data.list.filter(reading => reading.dt_txt.includes(\"12:00:00\") && !(reading.dt_txt.includes(daysInfo.today())));\n    }\n    return null;\n}\n\nexport function* fetchWeatherNextDaysAsync({payload}) {\n    const {city} = payload;\n    try {\n        const data = yield call(api.loadNextDaysWeather, city);\n        const nextDays = newState(data);\n        if (nextDays !== null) {\n            yield put(setNextDays(nextDays));\n        } else {\n            const cityRu = ruLayoutKeyboard(city);\n            const dataRu = yield call(api.loadNextDaysWeather, cityRu);\n            const daysRU = newState(dataRu);\n            if (daysRU) {\n                yield put(setCity(cityRu));\n                yield put(setNextDays(nextDays));\n            } else {\n                yield put(setMessage(mesCityNotFound(city)));\n            }\n        }\n    } catch {\n        yield put(setMessage(mesCityNotFound(city)));\n    }\n}\n\nexport function* watchFetchNextDaysWeather() {\n    yield takeEvery(actionType.FETCH_DATA_NEXT_DAYS, fetchWeatherNextDaysAsync);\n}","import {initialState} from \"./store\";\nimport {actionType} from \"./actionType\";\n\nexport const reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case actionType.SET_CITY:\n            return {\n                ...initialState,\n                city: action.payload.city,\n            };\n        case actionType.SET_NOW_INFO:\n            return {\n                ...state,\n                nowInfo: action.payload.nowInfo,\n            };\n        case actionType.SET_NEXT_DAYS:\n            return {\n                ...state,\n                nextDays: action.payload.nextDays\n            };\n        case actionType.SET_MESSAGE:\n            return {\n                ...state,\n                message: action.payload.message\n            };\n        default:\n            return state\n    }\n};","import {all, call, put, takeEvery} from \"@redux-saga/core/effects\";\nimport {api} from \"../../api\";\nimport {setCity, setMessage, setNowInfo} from \"../actionsCreators\";\nimport {ruLayoutKeyboard} from \"../../utils/autoLayoutKeyboard\";\nimport {mesCityNotFound} from \"../../utils/local\";\nimport {watchFetchNextDaysWeather} from \"./nextDaysSaga\";\nimport {actionType} from \"../actionType\";\n\nconst newState = (data) => {\n    if (data.cod !== '404') {\n        const time = Date.now() + new Date().getTimezoneOffset() * 60 * 1000 + data.timezone * 1000;\n        return {\n            nowInfo: {\n                time,\n                weather: data\n            }\n        }\n    }\n    return null;\n}\n\nexport function* fetchNowWeatherAsync({payload}) {\n    const {city} = payload;\n    try {\n        const data = yield call(api.loadNowWeather, city);\n        const info = newState(data);\n        if (info !== null) {\n            yield put(setNowInfo(info.nowInfo));\n        } else {\n            const cityRu = ruLayoutKeyboard(city);\n            const dataRu = yield call(api.loadNowWeather, cityRu);\n            const infoRu = newState(dataRu);\n            if (infoRu) {\n                yield put(setCity(cityRu));\n                yield put(setNowInfo(infoRu.nowInfo));\n            } else {\n                yield put(setMessage(mesCityNotFound(city)));\n            }\n        }\n    } catch {\n        yield put(setMessage(mesCityNotFound(city)));\n    }\n}\n\nexport function* watchFetchNowWeather() {\n    yield takeEvery(actionType.SET_CITY, fetchNowWeatherAsync);\n    yield takeEvery(actionType.FETCH_DATA_NOW, fetchNowWeatherAsync);\n}","import {all} from \"redux-saga/effects\";\nimport {watchFetchNowWeather} from \"./nowInfoSaga\";\nimport {watchFetchNextDaysWeather} from \"./nextDaysSaga\";\n\nexport function* allWeather() {\n    yield all([\n        watchFetchNowWeather(),\n        watchFetchNextDaysWeather()\n    ])\n}","import {applyMiddleware, createStore} from 'redux'\nimport {composeWithDevTools} from 'redux-devtools-extension';\nimport createSagaMiddleware from 'redux-saga';\nimport {watchFetchWeather} from \"./sagas/nextDaysSaga\";\nimport {reducer} from \"./reducer\";\nimport {allWeather} from \"./sagas/allWeatherSaga\";\n\nexport let initialState = {\n    city: \"Пермь\",\n    nowInfo: {\n        time: undefined,\n        weather: undefined\n    },\n    weatherNextDays: [],\n    message: undefined\n};\n\nconst sagaMiddleware = createSagaMiddleware();\n\nexport const store = createStore(reducer, composeWithDevTools(applyMiddleware(sagaMiddleware)));\nsagaMiddleware.run(allWeather);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App} from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport * as serviceWorker from './serviceWorker';\nimport {store} from \"./redux/store\";\nimport {Provider} from \"react-redux\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </React.StrictMode>\n,\ndocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}