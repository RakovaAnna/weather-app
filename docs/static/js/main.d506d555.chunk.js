(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{19:function(e,t,a){e.exports={main:"App_main__3XML-","card-weather":"App_card-weather__18HBW",container:"App_container__29yai",titleMain:"App_titleMain__kYBcB"}},20:function(e,t,a){e.exports={"container-fluid":"WeatherCard_container-fluid__1yEW6",error:"WeatherCard_error__3UQme",toolbar:"WeatherCard_toolbar__2C3Pw",titleCard:"WeatherCard_titleCard__3s28p"}},26:function(e,t,a){e.exports={dayWeather:"MiniDayCard_dayWeather__uTJMV",cardText:"MiniDayCard_cardText__38QO1"}},29:function(e,t,a){e.exports=a(44)},34:function(e,t,a){},35:function(e,t,a){},4:function(e,t,a){e.exports={DetailedCard:"DetailedCard_DetailedCard__34P_O",baseData:"DetailedCard_baseData__3s1Hp",detailsWeather:"DetailedCard_detailsWeather__2uYl2",row:"DetailedCard_row__30ybG",temperature:"DetailedCard_temperature__2bqKn",tableWeather:"DetailedCard_tableWeather__3p0t0",trWeather:"DetailedCard_trWeather__1dqvc",weatherBase:"DetailedCard_weatherBase__2iH0Y",thTitle:"DetailedCard_thTitle__1ZY1L",thDetail:"DetailedCard_thDetail__2VpBZ"}},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),l=(a(34),a(10)),i=a(11),s=a(13),u=a(12),m=a(19),d=a.n(m),p=a(6),h=(a(35),"SET_CITY"),f="SET_NOW_INFO",b="SET_NEXT_DAYS",y="SET_MESSAGE",w="FETCH_DATA_NOW",E="FETCH_DATA_NEXT_DAYS",v=function(e){return{type:h,payload:{city:e}}},_=function(e){return{type:f,payload:{nowInfo:e}}},O=function(e){return{type:b,payload:{nextDays:e}}},j=function(e){return{type:y,payload:{message:e}}},x=a(16),D=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={city:""},e.onCityChange=function(t){e.setState({city:t.target.value})},e.onSubmit=function(t){t.preventDefault(),e.props.onSetCity(e.state.city),e.setState({city:""})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.city;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-sm-12"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"input-group input-group-lg"},r.a.createElement("input",{type:"text",name:"city",className:"form-control",placeholder:"\u0412\u044b\u0431\u043e\u0440 \u0433\u043e\u0440\u043e\u0434\u0430",value:e,onChange:this.onCityChange}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-secondary"},"\u0423\u0437\u043d\u0430\u0442\u044c \u043f\u043e\u0433\u043e\u0434\u0443"))))))}}]),a}(n.Component),N=Object(x.b)((function(e){return Object(p.a)(Object(p.a)({},e),{},{city:e.city})}),(function(e){return{onSetCity:function(t){return e(v(t))}}}))(D),g=a(20),C=a.n(g),T=a(4),k=a.n(T);function W(e){return new Date(e).toLocaleString("ru",{weekday:"long"})}function S(e){return new Date(e).toLocaleDateString("ru",{day:"numeric",month:"long"})}function M(e){return"http://openweathermap.org/img/wn/"+e+"@4x.png"}var I=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.day;if(e){var t=e.main,a=1e3*e.dt,n=W(a),c=S(a),o=M(e.weather[0].icon),l=new Date(this.props.time).toLocaleTimeString("ru",{hour:"numeric",minute:"numeric"});return r.a.createElement("div",{className:k.a.DetailedCard},r.a.createElement("p",{className:k.a.baseData},n,", ",c," ",l),r.a.createElement("div",{className:"row align-items-center ".concat(k.a.weatherBase)},r.a.createElement("div",{className:"col-sm-6 align-self-center"},r.a.createElement("p",{className:k.a.temperature},Math.round(t.temp),"\xb0"),r.a.createElement("p",{className:k.a.detailsWeather},"\u041f\u043e \u043e\u0449\u0443\u0449\u0435\u043d\u0438\u044f\u043c: ",Math.round(t.feels_like)," \xb0C")),r.a.createElement("div",{className:"col-sm-6 align-self-center"},r.a.createElement("img",{src:o,width:"200",height:"200",alt:e.weather[0].description}),r.a.createElement("p",{className:k.a.detailsWeather},e.weather[0].description))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 align-self-center"},r.a.createElement("table",{className:k.a.tableWeather},r.a.createElement("tbody",null,r.a.createElement("tr",{className:k.a.trWeather},r.a.createElement("td",null,r.a.createElement("p",{className:k.a.thTitle},"\u041c\u0430\u043a\u0441/\u043c\u0438\u043d \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430")),r.a.createElement("td",null,r.a.createElement("p",{className:k.a.thDetail},Math.round(t.temp_max),"\xb0 / ",Math.round(t.temp_min),"\xb0")),r.a.createElement("td",null,r.a.createElement("p",{className:k.a.thTitle},"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c")),r.a.createElement("td",null,r.a.createElement("p",{className:k.a.thDetail},t.humidity,"%"))),r.a.createElement("tr",{className:k.a.trWeather},r.a.createElement("td",null,r.a.createElement("p",{className:k.a.thTitle},"\u0410\u0442\u043c\u043e\u0441\u0444\u0435\u0440\u043d\u043e\u0435 \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u0435")),r.a.createElement("td",null,r.a.createElement("p",{className:k.a.thDetail},Math.round(t.pressure/1.333)," \u043c\u043c.\u0440\u0442.\u0441\u0442.")),r.a.createElement("td",null,r.a.createElement("p",{className:k.a.thTitle},"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430")),r.a.createElement("td",null,r.a.createElement("p",{className:k.a.thDetail},e.wind.speed,"\u043c/\u0441"))))))))}return r.a.createElement("div",{className:k.a.DetailedCard},r.a.createElement("p",{className:k.a.baseData},"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"))}}]),a}(r.a.Component),A=a(26),B=a.n(A),F=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.day,t=1e3*e.dt,a=W(t),n=S(t),c=M(e.weather[0].icon);return r.a.createElement("div",{className:"col-sm"},r.a.createElement("div",{className:B.a.dayWeather},r.a.createElement("h4",null,a,","),r.a.createElement("h5",null,n),r.a.createElement("img",{src:c,width:"150",height:"150",alt:e.weather[0].description}),r.a.createElement("h2",null,Math.round(e.main.temp)," \xb0C"),r.a.createElement("div",null,r.a.createElement("p",{className:"card-text"},e.weather[0].description))))}}]),a}(r.a.Component),Y=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={controlTab:!0},e.formatCards=function(){return e.props.nextDays.map((function(e,t){return r.a.createElement(F,{day:e,key:t})}))},e.onToday=function(){e.state.controlTab||e.setState({controlTab:!0}),e.props.nowInfo.time||e.props.onFetchDataNow(e.props.city)},e.onNextDays=function(){e.state.controlTab&&e.setState({controlTab:!1}),e.props.nextDays||e.props.onFetchDataNextDays(e.props.city)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.city;(0,e.onFetchDataNow)(t)}},{key:"render",value:function(){var e=this.props,t=e.city,a=e.nowInfo,n=e.nextDays,c=e.message,o=this.state.controlTab;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"row align-items-center ".concat(C.a.toolbar)},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("button",{className:"".concat(o?"btn btn-secondary":"btn btn-outline-secondary"),onClick:this.onToday},"\u041d\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f")),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("button",{className:"".concat(o?"btn btn-outline-secondary":"btn btn-secondary"),onClick:this.onNextDays},"\u041d\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0434\u043d\u0435\u0439"))),r.a.createElement("h2",{className:C.a.titleCard},'\u041f\u043e\u0433\u043e\u0434\u0430 \u0432 \u0433\u043e\u0440\u043e\u0434\u0435 "',t,'"'),r.a.createElement("p",{className:C.a.error},c),r.a.createElement("div",null,this.state.controlTab&&a&&r.a.createElement(I,{day:a.weather,city:t,time:a.time}),!this.state.controlTab&&n&&r.a.createElement("div",{className:"row justify-content-center "},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"row align-items-center"},this.formatCards()))))))}}]),a}(r.a.Component),L=Object(x.b)((function(e){return Object(p.a)(Object(p.a)({},e),{},{nowInfo:{time:e.nowInfo.time,weather:e.nowInfo.weather},nextDays:e.nextDays,message:e.message})}),(function(e){return{onFetchDataNow:function(t){return e(function(e){return{type:w,payload:{city:e}}}(t))},onFetchDataNextDays:function(t){return e(function(e){return{type:E,payload:{city:e}}}(t))}}}))(Y),q=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){this.props;return r.a.createElement("div",{className:"".concat(d.a.main)},r.a.createElement("h1",{className:d.a.titleMain},"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043f\u043e\u0433\u043e\u0434\u044b"),r.a.createElement("div",{className:"".concat(d.a.container," container-fluid")},r.a.createElement(N,null),r.a.createElement(L,null)))}}]),a}(r.a.Component);a(42),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=a(15),z=a(27),P=a(28),J=a(7),X=a.n(J),G={q:"\u0439",w:"\u0446",e:"\u0443",r:"\u043a",t:"\u0435",y:"\u043d",u:"\u0433",i:"\u0448",o:"\u0449",p:"\u0437","[":"\u0445","]":"\u044a",a:"\u0444",s:"\u044b",d:"\u0432",f:"\u0430",g:"\u043f",h:"\u0440",j:"\u043e",k:"\u043b",l:"\u0434",";":"\u0436","'":"\u044d",z:"\u044f",x:"\u0447",c:"\u0441",v:"\u043c",b:"\u0438",n:"\u0442",m:"\u044c",",":"\u0431",".":"\u044e","/":"."};function Q(e){return e.replace(/[A-z/,.;\'\]\[]/g,(function(e){return e==e.toLowerCase()?G[e]:G[e.toLowerCase()].toUpperCase()}))}var U=a(9);function V(e){return'\u0413\u043e\u0440\u043e\u0434 "'.concat(e,'" \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d')}var Z=function(e){return fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&appid=").concat("Put here","&units=").concat("metric","&lang=").concat("ru")).then((function(e){return e.json()}))},K=function(e){return fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat("Put here","&units=").concat("metric","&lang=").concat("ru")).then((function(e){return e.json()}))},$=X.a.mark(te),R=X.a.mark(ae),ee=function(e){return"200"===e.cod?e.list.filter((function(e){return e.dt_txt.includes("12:00:00")&&!e.dt_txt.includes(function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1;return e.getFullYear()+"-"+(a<10?"0":"")+a+"-"+(t<10?"0":"")+t}())})):null};function te(e){var t,a,n,r,c,o;return X.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,a=t.city,l.prev=2,l.next=5,Object(U.b)(Z,a);case 5:if(n=l.sent,null===(r=ee(n))){l.next=12;break}return l.next=10,Object(U.c)(O(r));case 10:l.next=26;break;case 12:return c=Q(a),l.next=15,Object(U.b)(Z,c);case 15:if(o=l.sent,!ee(o)){l.next=24;break}return l.next=20,Object(U.c)(v(c));case 20:return l.next=22,Object(U.c)(O(r));case 22:l.next=26;break;case 24:return l.next=26,Object(U.c)(j(V(a)));case 26:l.next=32;break;case 28:return l.prev=28,l.t0=l.catch(2),l.next=32,Object(U.c)(j(V(a)));case 32:case"end":return l.stop()}}),$,null,[[2,28]])}function ae(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.d)(E,te);case 2:case"end":return e.stop()}}),R)}var ne=a(8),re=X.a.mark(le),ce=X.a.mark(ie),oe=function(e){return"404"!==e.cod?{nowInfo:{time:Date.now()+60*(new Date).getTimezoneOffset()*1e3+1e3*e.timezone,weather:e}}:null};function le(e){var t,a,n,r,c,o,l;return X.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,a=t.city,i.prev=2,i.next=5,Object(ne.b)(K,a);case 5:if(n=i.sent,null===(r=oe(n))){i.next=12;break}return i.next=10,Object(ne.c)(_(r.nowInfo));case 10:i.next=26;break;case 12:return c=Q(a),i.next=15,Object(ne.b)(K,c);case 15:if(o=i.sent,!(l=oe(o))){i.next=24;break}return i.next=20,Object(ne.c)(v(c));case 20:return i.next=22,Object(ne.c)(_(l.nowInfo));case 22:i.next=26;break;case 24:return i.next=26,Object(ne.c)(j(V(a)));case 26:i.next=32;break;case 28:return i.prev=28,i.t0=i.catch(2),i.next=32,Object(ne.c)(j(V(a)));case 32:case"end":return i.stop()}}),re,null,[[2,28]])}function ie(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.d)(h,le);case 2:return e.next=4,Object(ne.d)(w,le);case 4:case"end":return e.stop()}}),ce)}var se=X.a.mark(ue);function ue(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.a)([ie(),ae()]);case 2:case"end":return e.stop()}}),se)}var me={city:"\u041f\u0435\u0440\u043c\u044c",nowInfo:{time:void 0,weather:void 0},weatherNextDays:[],message:void 0},de=Object(P.a)(),pe=Object(H.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(p.a)(Object(p.a)({},me),{},{city:t.payload.city});case f:return Object(p.a)(Object(p.a)({},e),{},{nowInfo:t.payload.nowInfo});case b:return Object(p.a)(Object(p.a)({},e),{},{nextDays:t.payload.nextDays});case y:return Object(p.a)(Object(p.a)({},e),{},{message:t.payload.message});default:return e}}),Object(z.composeWithDevTools)(Object(H.applyMiddleware)(de)));de.run(ue),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x.a,{store:pe},r.a.createElement(q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.d506d555.chunk.js.map